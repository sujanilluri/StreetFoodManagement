$(function(){function e(e){function t(e){a(),r(),void 0!==e.success&&e.success&&~e.values.indexOf(o)&&(++m<30?t(e):(n(o=""),console.error("Error: All possible combinations are no longer available")))}function i(e,t){var i=arguments.length;if(0===i)e=0,t=2147483647;else if(1===i)throw new Error("Warning: rand() expects exactly 2 parameters, 1 given");return Math.floor(Math.random()*(t-e+1))+e}function a(){var e=u.charsNumber;e<=0&&(e=10),e>32&&(e=32);var t=["letters","numbers","alphanumeric","all"].indexOf(u.charsType)>-1?u.charsType:"all",a=["lowercase","uppercase","both"].indexOf(u.letterCase)>-1?u.letterCase:"both",r="";"numbers"!==t&&("lowercase"!==a&&"both"!==a||(r+="abcdefghijklmnopqrstuvwxyz"),"uppercase"!==a&&"both"!==a||(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ")),"letters"!==t&&(r+="1234567890"),"all"===t&&(r+="!\"#$%&'()*|,-./:;<=>?@[]^_`{|}~"),o="";for(var s=0;s<e;s++)o+=r[i(0,r.length-1)];$("#valueContainer").val(o),n(o)}function r(){JFCustomWidget.requestFrameResize({height:$("body").outerHeight()+1})}function n(e){JFCustomWidget.sendData(s())}function s(){return{valid:!!o,value:o}}var o,u=JFCustomWidget.getWidgetSettings(),l=e.formID,c=e.qid,d=JFCustomWidgetUtils.isEmpty(u.apiKey)?"":u.apiKey||"",m=0;this.init=function(){if("hide"in u&&"Yes"===u.hide&&JFCustomWidget.hideWidgetContainer(),e&&e.value)return $("#valueContainer").val(e.value),o=e.value,!1;var i=!0;"uniqueValues"in u&&(i="Yes"===u.uniqueValues),i&&d&&l&&c?$.ajax({url:"server.php",type:"POST",dataType:"JSON",data:{action:"getList",apiKey:d,formID:l,qid:c},success:t}):t("false"),JFCustomWidget.isFromCardform()?JFCustomWidgetUtils.animateUntil(3e3,r):r()},this.getData=s}JFCustomWidget.subscribe("ready",function(t){var i=new e(t);i.init(),JFCustomWidget.subscribe("submit",function(){JFCustomWidget.sendSubmit(i.getData())})})});