!function(){function e(){function e(e){var t=e.id.split("_")[1];return("file"===JotForm.getInputType(t)&&e.select(".qq-upload-list").first()?e.select(".qq-upload-list").first().innerHTML.length>0:JotForm.fieldHasContent(t))&&!e.hasClassName("form-field-hidden")?(C[e.id]=!0,e.writeAttribute("data-progress","true")):(C[e.id]=!1,e.writeAttribute("data-progress","false")),C[e.id]}function t(t){void 0!==t.up(".form-line")&&(t=t.up(".form-line")),t.hasClassName("form-line-error")||t.select(".form-custom-hint")&&t.select(".form-custom-hint").length>0?(void 0!==L&&(clearInterval(L),L=null),L=setInterval(function(){e(t)&&(clearInterval(L),L=null,r())},250)):(e(t),r())}function r(){var e=Object.keys(C).length-k.length,t=0;for(var r in C)C[r]&&t++;var i=parseInt(100/e*t);isNaN(i)&&(i=0),x.set(i),$("progressPercentage").update(i+"% "),$("progressCompleted").update(t),100===i?($("progressSubmissionReminder").show(),$("status_text1").hide()):($("progressSubmissionReminder").hide(),$("status_text1").show()),$("progressTotal").update(e)}function i(e){for(var t=!1,r=0;r<k.length;r++)if(k[r]===e){t=!0;break}t||k.push(e)}function s(e){for(var t=0;t<k.length;t++)k[t]===e&&k.splice(t,1)}function n(e,r,n){n?e.observe(r,function(){var e=this;setTimeout(function(){t(e)},1e3)}):e.observe(r,function(){this.hasClassName("form-field-hidden")?i(this.id):s(this.id),t(this)})}function o(e,t,r){var i=void 0!==r?r:e.id.split("_")[1],s=!!~t.indexOf(":");JotForm.fieldHasContent(i)&&(s?e.fire(t):e.triggerEvent(t))}function a(e){var t;return e.select(".form-label").each(function(e){var r=e.clone(!0);r.select(".form-required").length&&r.select(".form-required").first().remove(),t=b(r.textContent||r.innerText)}),t&&t.length>0&&w.indexOf(t)>-1}function l(e){return!(!e||void 0===e.select("input.widget-static").first())}function d(e,t){var r=!1;if("widget"==t){var i=e.select("iframe").first();if(void 0!==i)for(var s=i.src,n=0;n<F.length;n++)s.indexOf(F[n])>-1&&(r=!0)}return r}function u(e){return!!e.select("input").first()&&e.select("input").first().readOnly}function f(){if(JotForm.conditions.length>0){for(var e={},r=0;r<JotForm.conditions.length;r++)for(var n=JotForm.conditions[r].terms,o=JotForm.conditions[r].action,a=0;a<n.length;a++){var l=Number(n[a].field);l in e||(e[l]=[]);for(var d=0;d<o.length;d++)if("visibility"in o[d]){var u=o[d].visibility.toLowerCase();if("show"===u||"hide"===u||"disable"===u||P&&"require"===u||"unrequire"===u){m=Number(o[d].field);e[l].push(m)}else if("showmultiple"===u||"hidemultiple"===u||"requiremultiple"===u||"unrequiremultiple"===u)for(var f=o[d].fields,p=0;p<f.length;p++){var m=Number(f[p]);e[l].push(m)}}}for(var g in e){var h=v(JotForm.getInputType(g));if($("id_"+g)&&e[g].length>0)for(var b=y(h)?h:[h],B=0;B<b.length;B++)void 0!==b[B]&&$("id_"+g).observe(b[B],function(){for(var r=this.id.split("_")[1],n=0;n<e[r].length;n++){var o=e[r][n],a=$("id_"+o);a&&(c(a)||(a.hasClassName("form-field-hidden")||a.select("input, select").length&&a.select("input, select").first().disabled?i(a.id):s(a.id),P&&(a.select(".form-required").length&&!a.hasClassName("form-field-hidden")&&a.select("input, select").length&&!a.select("input, select").first().disabled?s(a.id):i(a.id)),t(a)))}})}}}function c(e){var t=e.id.split("_")[1],r=JotForm.getInputType(t),i=!1;return(!B.include(r)||a(e)||l(e)||d(e,r)||u(e))&&(i=!0),i}function p(){if($$(".form-line").each(function(e){var t=e.id.split("_")[1];if(!c(e)){if(P)if(e.hasClassName("form-field-hidden")){if(!e.hasClassName("jf-required"))return;k.push(e.id)}else if(!$$("#id_"+t+'[class*="required"]').first())return;e.id in C||(C[e.id]=!1);var r=$("id_"+t),i=JotForm.getInputType(t);switch(i){case"file":n(r,v(i,0)),o(r,v(i,0)),"multiple"===$$("#id_"+t+" input").first().readAttribute("multiple")&&(n(r,v(i,1),!0),o(r,v(i,1)));break;case"datetime":n(r,v(i,0)),o(r,v(i,0)),$$("#id_"+t+" select").each(function(e){n($(e),v(i,1)),o($(e),v(i,1),t)});break;case"time":case"birthdate":$$("#id_"+t+" select").each(function(e){n($(e),v(i)),o($(e),v(i),t)});break;case"radio":case"checkbox":case"signature":case"select":case"number":case"widget":_[i].forEach(function(e){"widget"===i&&(r=$("input_"+t),JotForm.widgetsWithConditions.push(t)),n(r,e),o(r,e)});break;default:_.default.forEach(function(e){n(r,e),o(r,e)})}}}),g()||JotForm.saveForm)var t=0,i=setInterval(function(){function s(t){var i=n[t].replace("q","id_");i in C&&e($$(".form-line#"+i).first()),++t<n.length?s(t):r()}if((t+=100)>5e3)clearInterval(i);else if($("JotFormPopulatedFields")&&$("JotFormPopulatedFields").getValue().length>0){clearInterval(i);var n=$("JotFormPopulatedFields").getValue().split(",");s(0)}},100);else r()}function m(){var e=$$(".form-all").first(),t='<div class="progressBarContainer'+(q?" fixed":"")+'">';t+='    <div id="progressBarWidget"></div>',t+='    <div class="progressBarSubtitle">',t+='        <span id="progressPercentage">0% completed</span>',t+='        <span id="progressCompleted" style="margin-left:10px">0</span>',t+="        <span>/</span>",t+='        <span id="progressTotal"></span> <span id="status_text1">'+(P?" "+I:N)+".</span> ",t+='        <span id="progressSubmissionReminder" style="display:none; margin-left: 10px;">'+T+".</span>",t+="    </div>",t+="</div>";var r=parseInt($$(".jotform-form").first().getStyle("padding"));q&&0===r&&(t+='<div class="progressBarContainer">&nbsp;</div>'),e.insert({top:t}),"undefined"!=typeof theme&&theme.length>0&&""!==theme&&"{theme}"!==theme?(theme=theme.replace(/\s+/g,""),theme=theme.charAt(0).toLowerCase()+theme.slice(1)):theme="islandBlue",x=progressJs("#progressBarWidget").setOptions({height:"20px",width:"100%",boxSizing:"border-box",theme:theme}).start()}function g(){var e=h("mode"),t=h("sid");return e&&("edit"===e||"inlineEdit"===e||"submissionToPDF"===e)&&t}function h(e,t){null===t&&(t=!1),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null===r?t:decodeURIComponent(r[1])}function v(e,t){if(e in _)return void 0!==t?_[e][t]:_[e]}function b(e){return e.replace(/^[\n\t ]+/,"").replace(/[\n\t ]+$/,"")}function y(e){return"[object Array]"===Object.prototype.toString.call(e)}this.init=function(){m(),p();var e=$$(".language-dd").first();if(e)var t=setInterval(function(){"none"!==e.style.display&&(clearInterval(t),f())},100);else f();"undefined"!=typeof progressBarqid&&$$(".direct-embed-"+progressBarqid).first().up(".form-line").hide()},this.getHiddenList=function(){return k},this.getFieldList=function(){return C};var B=["select","radio","checkbox","file","combined","email","address","datetime","time","birthdate","number","autocomplete","text","textarea","signature","div","slider","widget","rating"],x=!1,P=onlyCountReq&&"Yes"===onlyCountReq,q=fixedProgressBar&&"Yes"===fixedProgressBar,w=[],F=["facebookLikeBox"],C={},k=[],_={radio:["click","change"],checkbox:["click","change"],signature:["click","change"],select:["change"],file:["change","click"],datetime:["date:changed","change"],time:"change",birthdate:"change",number:["keyup","click","change"],widget:["change"],default:["keyup","change"]};if("undefined"!=typeof deleteLabelProgressBar){w=deleteLabelProgressBar.indexOf("\n")>-1?deleteLabelProgressBar.split("\n"):deleteLabelProgressBar;for(var J=0;w.length>J;J++)w[J]=b(w[J])}var I="required fields completed";"undefined"!=typeof requiredProgressBar&&"<empty>"!=requiredProgressBar&&""!=requiredProgressBar&&(I=requiredProgressBar);var N="populated fields completed";"undefined"!=typeof fieldsProgressBar&&"<empty>"!=fieldsProgressBar&&""!=fieldsProgressBar&&(N=fieldsProgressBar);var T="Please submit your completed form";"undefined"!=typeof submitProgressBar&&"<empty>"!=submitProgressBar&&""!=submitProgressBar&&(T=submitProgressBar);var L=null}document.observe("dom:loaded",function(){setTimeout(function(){(new e).init()},0)})}();