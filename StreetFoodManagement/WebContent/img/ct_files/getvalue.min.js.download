Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});var Preview_CheckInput=function(){function a(a){try{var b=JSON.parse(a);if(b&&"object"==typeof b&&null!==b)return!0}catch(a){}return!1}function b(b){var c=[];if(!a(b))return c;var d=JSON.parse(b);return d.hasOwnProperty(i)&&(c=d[i]),c}function c(b){if(!a(b))return!1;var c=JSON.parse(b);return!!c.hasOwnProperty(i)}function d(d,f){var h="";switch(f){case"rating":case"div":$$("#input_"+d).each(function(a,b){h=a.innerHTML});break;case"matrix":var i=$("cid_"+d).clone(!0),j=i.select("table").first();j.writeAttribute("width","100%"),j.className="table-grid",j.select("tbody").first().addClassName("table-body"),j.select("th").each(function(a){a.className="","none"!==a.getStyle("border")&&a.addClassName("table-head")}),j.select("td").each(function(a){a.className="",a.addClassName("table-col")}),j.select("input").each(function(a,b){a.writeAttribute("id",!1),a.writeAttribute("name",!1),a.writeAttribute("class",!1);var c=a.nodeName.toLowerCase(),e=$("id_"+d).select(c)[b],f=a.readAttribute("type");if(f&&["radio","checkbox"].indexOf(f)>-1){var g="";e.checked&&(g=new Element("img",{src:"//cdn.jotfor.ms/images/tick.png",alt:"checked",title:"Checked"})),a.parentNode.update(g)}else if(f&&["text","tel","number"].indexOf(f)>-1){var h=a.getValue()?a.getValue():"&nbsp;";a.parentNode.update(h)}a.setAttribute("disabled","disabled")}),j.select("select").each(function(a,b){a.writeAttribute("id",!1),a.writeAttribute("name",!1),a.writeAttribute("class",!1);var c=a.nodeName.toLowerCase(),e=$("id_"+d).select(c)[b],f=e.getValue()?e.getValue():"&nbsp;";a.parentNode.update(f),a.setAttribute("disabled","disabled")}),h=i.innerHTML;break;case"form_section":$$("#collapse-text_"+d).each(function(a,b){h=a&&a.innerHTML.stripTags().length>0?g(a.innerHTML.stripTags()):""});break;case"control_head":$$("#header_"+d).each(function(a,b){if(a&&a.innerHTML.stripTags().length>0){h=g(a.innerHTML.stripTags());var c=a.parentNode.select(".form-subHeader");c&&c.length>0&&(h+="<br />"+c.first().outerHTML)}else h=""});break;case"radio":case"checkbox":var k=[];$$("#id_"+d+' input[type="'+f+'"]').each(function(a,b){if(("checkbox"!==f||!a.up(".form-product-child-table"))&&a.checked){if(a.hasClassName("form-checkbox-other")||a.hasClassName("form-radio-other"))w=a.up().down('input[type="text"]').getValue()||"";else{var c=a.up().down("label");w=c&&c.innerHTML.stripTags().length>0?g(c.innerHTML.stripTags()):a.value}if(a.up(".form-product-item")){var d=a.up().select(".form-sub-label-container");if(d){var e=[];if($A(d).each(function(a,b){var c="textbox";a.down("select.form-dropdown")&&(c="dropdown");var d=[],f=a.select(".form-"+c).first();if(a.down("label.form-sub-label")){var h="- "+g(a.down("label.form-sub-label").innerHTML.stripTags());d.push(h)}var i=f.getValue();i&&""!==i&&"0"!==i&&(d.push(i),e.push(d.join(": ")))}),Object.isArray(e)&&e.length>0){w+='<ul class="preview-product">';for(var b=0;b<e.length;b++)w+="<li>"+e[b]+"</li>";w+="</ul>"}}var h=a.up().down(".form-product-child-table");if(h){var i=[],j=[],l=[];if(h.select("tr").each(function(a,b){if(b>0){var c=[],d=[],e=a.select(".form-product-child-label, .form-subproduct-option");if("No"===showEmptyInputs)for(var f=e.length-1;f>=0;f--)e[f].hasClassName("form-subproduct-option")&&0==e[f].getValue()||e[f].hasClassName("form-subproduct-option")&&0!=e[f].getValue()&&(d.push(["- "+i[f],e[f].getValue()].join(": ")),3==e.length?(f=--f,c.push(g(e[--f].innerHTML.stripTags().replace(/(?:\r\n|\r|\n)/g,""))),c.push(g(e[++f].innerHTML.stripTags().replace(/(?:\r\n|\r|\n)/g,"")))):c.push(g(e[--f].innerHTML.stripTags().replace(/(?:\r\n|\r|\n)/g,""))));else e.each(function(a,b){a.hasClassName("form-product-child-label")?c.push(g(a.innerHTML.stripTags().replace(/(?:\r\n|\r|\n)/g,""))):a.hasClassName("form-subproduct-option")&&d.push(["- "+i[b],a.getValue()].join(": "))});j.push(c.join(" ")),l.push(d)}else a.select("th").each(function(a,b){i.push(g(a.innerHTML.stripTags()))})}),Object.isArray(j)&&Object.isArray(l)&&j.length>0){w+='<ul class="preview-subproducts">';for(var m=0;m<j.length;m++)if(w+="<li>"+j[m],l.length>0){w+='<ul class="preview-subproduct">';for(var b=0;b<l[m].length;b++)w+="<li>"+l[m][b]+"</li>";w+="</ul></li>"}w+="</ul>"}}}k.push(g(w))}}),h=k.join("<br/>");var l=$$("#id_"+d+" .form-payment-total");if(l.length&&""!=h){var m=l.first().textContent||l.first().innerText;h=h+"<br />"+m.replace(/\s{2}/g,"")}break;case"select":h=$("input_"+d).getValue(),Array.isArray(h)&&(h=h.join("<br />"));break;case"number":if($$("#id_"+d+' input[type="number"]').length>1){var k=[];$$("#id_"+d+' input[type="number"]').each(function(a){k.push(a.value)}),h=k.join(" ")}else $("input_"+d).value.empty()||(h=parseFloat($("input_"+d).value));break;case"combined":case"grading":var k=[];$$("#id_"+d+' input[type="text"]').each(function(a){a.value.empty()||k.push(a.value)}),$$("#id_"+d+' input[type="tel"]').each(function(a){a.value.empty()||k.push(a.value)}),h=k.join(" ");break;case"datetime":var k=[];$$("#id_"+d+' input[type="tel"]').each(function(a){k.push(a.value)}),$$("#id_"+d+" select").each(function(a){k.push(a.value)}),k.length>2&&!k[0].empty()&&!k[1].empty()&&!k[0].empty()&&(h=k[0]+"/"+k[1]+"/"+k[2]),k.length>4&&!k[3].empty()&&!k[4].empty()&&(h+=" "+k[3]+":"+k[4],6!=k.length||k[5].empty()||(h+=" "+k[5]));break;case"time":var k=[];$$("#id_"+d+" select").each(function(a){k.push(a.value)}),k[0].empty()||k[1].empty()||(h=k[0]+":"+k[1],k.length>2&&!k[2].empty()&&(h+=" "+k[2]));break;case"textarea":h=$("input_"+d).hasClassName("custom-hint-group")?$("input_"+d).value===$("input_"+d).readAttribute("data-customhint")?"":$("input_"+d).value.replace(/(?:\r\n|\r|\n)/g,"<br />"):$("input_"+d).up("div").down(".nicEdit-main")?$("input_"+d).up("div").down(".nicEdit-main").innerHTML:$("input_"+d).value.replace(/(?:\r\n|\r|\n)/g,"<br />");break;case"birthdate":var k=[];$$("#id_"+d+" select").each(function(a){k.push(a.value)}),k[0].empty()||k[1].empty()||k[2].empty()||(h=k[0]+" "+k[1]+" "+k[2]);break;case"address":var k=[];$$("#id_"+d+' input[type="text"]').each(function(a){a.value.empty()||k.push(a.value)}),$$("#id_"+d+" select").each(function(a){a.value.empty()||k.push(a.value)}),h=k.join("<br/>");break;case"file":var n=$("id_"+d);if(n.select(".qq-uploader").length>0){var o=n.select(".qq-upload-list").first().children;if(o.length>0){var p=[];$A(o).each(function(a){if(!a.classList.contains("file-deleted")){var b=g(a.select(".qq-upload-file").first().innerHTML),c=g(a.select(".qq-upload-size").first().innerHTML),d=c?" ("+c+")":"";p.push(b+d)}}),h+=p.join("<br/>")}}else h=$("input_"+d).value,h=h.substring(h.lastIndexOf("\\")+1);break;case"signature":var q=document.getElementById("cid_"+d),r=q.querySelector("img");if(r){var s=r.getAttribute("src");h='<div class="imgwrap"><img src="'+s+'"class="signature-image-'+d+'"/></div>'}else{var t=q.getElementsByClassName("jSignature")[0],u=(t.getContext("2d"),t.toDataURL());h=u}break;case"html":h=$$("#text_"+d).first().innerHTML;break;case"control_image":h=$$("#cid_"+d).first().innerHTML;break;case"widget":var v=$$(".widget-inputs-wrapper #input_"+d)[0],w=v.getValue();if(a(w)){if(!c(w)){var j=e(w);return j.outerHTML}var x=b(w),y=x.type,z=x.value;switch(y){case"links":case"imagelinks":var A=[],B="\n";return z.each(function(a,b){var c=a.name?a.name.replace(/\u00a0/g,""):"",d=a.url;d&&("imagelinks"===y?(A.push('<div class="imgwrap"><img src="'+d+'" title="'+c+'" alt="image" class="image label"/>'+c+"</div>"),B=""):A.push(c))}),A.length>0?A.join(B):"";case"html":return decodeURIComponent(z[0].html);default:return"N/A"}return"N/A"}return w.search(/\r\n|\r|\n/g)>0?w=w.replace(/\r\n|\r|\n/g,"<br/>"):null!=w.match(/\.(jpg|jpeg|gif|png)$/i)&&(w='<div class="imgwrap"><img src="/'+w+'" alt="image" class="image label"/></div>'),w;default:$("input_"+d)&&!$("input_"+d).name.match(/captcha/)&&"undefined"!=typeof $("input_"+d).value&&(h=$("input_"+d).value)}return h}function e(a){var b=JSON.parse(a);if(Array.isArray(b[0])){var c=new Element("table",{border:"0",cellpadding:"5",cellspacing:"0",width:"100%"}).addClassName("table-grid"),d=new Element("tbody").addClassName("table-body");$A(b).each(function(a,b){var c=new Element("tr");c.addClassName("table-row"),d.insert(c);for(var e=1;e<a.length;e++)if(0==b){var g=new Element("th").addClassName("Row-"+b).update(f(a[e]));c.insert(g)}else if(1!=e){var h=new Element("td").addClassName("table-col").update(f(a[e]));c.insert(h)}else{var g=new Element("th").addClassName("Row-"+b).update(f(a[e]));c.insert(g)}})}else{var c=new Element("table",{border:"0",cellpadding:"5",cellspacing:"0",width:"100%"}).addClassName("table-grid"),d=new Element("tbody").addClassName("table-body");$A(b).each(function(a,b){if(b<1){var c=new Element("tr").addClassName("table-row");$H(a).each(function(a,b){var e=new Element("th").addClassName("table-head").update(a.key);d.insert(c.insert(e))})}var c=new Element("tr");$H(a).each(function(a,b){var e=new Element("td").addClassName("table-col").update(f(a.value));d.insert(c.insert(e))})})}return c.insert(d),c}function f(a,b){var c=b||"undefined"==typeof b?"<br />":"<br>";return(a+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+c+"$2")}function g(a){return a.replace(/^[\n\t ]+/,"").replace(/[\n\t ]+$/,"")}var h={},i="widget_metadata";return h.getValue=d,h}();
//# sourceMappingURL=getvalue.min.js.map